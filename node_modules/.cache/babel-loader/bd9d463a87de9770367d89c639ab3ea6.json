{"ast":null,"code":"import _slicedToArray from\"D:/album-collection-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import Button from\"react-bootstrap/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UpdateAlbum(props){var _useParams=useParams(),id=_useParams.id;var albums=props.albums,handleChangeAlbum=props.handleChangeAlbum;var _useState=useState({title:\"\",userId:\"\"}),_useState2=_slicedToArray(_useState,2),album=_useState2[0],setAlbum=_useState2[1];console.log(album);var _useState3=useState(album.title),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(album.userId),_useState6=_slicedToArray(_useState5,2),userId=_useState6[0],setUserId=_useState6[1];/// we are using the code in this file to update the albums \nuseEffect(function(){var album=albums.find(function(elem){return elem.id==id;});setAlbum(album);setTitle(album.title);setUserId(album.userId);},[id,albums]);var updateUser=function updateUser(){fetch(\"https://jsonplaceholder.typicode.com/albums/\".concat(id),{method:\"PUT\",body:JSON.stringify({id:id,title:title,userId:userId}),headers:{\"Content-type\":\"application/json; charset=UTF-8\"}}).then(function(response){return response.json();}).then(function(data){var updatedAlbums=albums.filter(function(album){console.log(album);return album.id!=id;});updatedAlbums.push(data);handleChangeAlbum(updatedAlbums);});};function handleChange(e){if(e.target.name===\"title\"){setTitle(e.target.value);}else{setUserId(e.target.value);}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,name:\"title\",onChange:function onChange(e){handleChange(e);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"userId\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userId,name:\"userId\",onChange:function onChange(e){handleChange(e);}}),/*#__PURE__*/_jsx(Button,{onClick:updateUser,children:\" Submit\"})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","Button","UpdateAlbum","props","id","albums","handleChangeAlbum","title","userId","album","setAlbum","console","log","setTitle","setUserId","find","elem","updateUser","fetch","method","body","JSON","stringify","headers","then","response","json","data","updatedAlbums","filter","push","handleChange","e","target","name","value"],"sources":["D:/album-collection-main/src/UpdateAlbum.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nexport default function UpdateAlbum(props) {\n  const { id } = useParams();\n  const { albums, handleChangeAlbum } = props;\n  let [album, setAlbum] = useState({ title: \"\", userId: \"\" });\n  console.log(album);\n  let [title, setTitle] = useState(album.title);\n  let [userId, setUserId] = useState(album.userId);\n/// we are using the code in this file to update the albums \n  useEffect(() => {\n    let album = albums.find((elem) => elem.id == id);\n    setAlbum(album);\n    setTitle(album.title);\n    setUserId(album.userId);\n  }, [id, albums]);\n\n  const updateUser = () => {\n    fetch(`https://jsonplaceholder.typicode.com/albums/${id}`, {\n      method: \"PUT\",\n      body: JSON.stringify({\n        id: id,\n        title: title,\n        userId: userId,\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        let updatedAlbums = albums.filter((album) => {\n          console.log(album);\n          return album.id != id;\n        });\n        updatedAlbums.push(data);\n        handleChangeAlbum(updatedAlbums);\n      });\n  };\n\n  function handleChange(e) {\n    if (e.target.name === \"title\") {\n      setTitle(e.target.value);\n    } else {\n      setUserId(e.target.value);\n    }\n  }\n\n  return (\n    <div>\n      <label htmlFor='title'>Title</label>\n      <input\n        type='text'\n        value={title}\n        name='title'\n        onChange={(e) => {\n          handleChange(e);\n        }}\n      />\n      <label htmlFor='title'>userId</label>\n      <input\n        type='text'\n        value={userId}\n        name='userId'\n        onChange={(e) => {\n          handleChange(e);\n        }}\n      />\n      <Button onClick={updateUser}> Submit</Button>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}